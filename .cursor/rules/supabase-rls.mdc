---
description: "Supabase: –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RLS –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ auth.uid()"
globs:
  - "app/**/*"
  - "lib/**/*"
  - "hooks/**/*"
  - "utils/**/*"
alwaysApply: true
---

> ‚úÖ **–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase –¥–æ–ª–∂–Ω—ã:**
> - –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ `auth.uid()` ‚Üí `teacher_id = auth.uid()`
> - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Row Level Security (RLS) –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
> - –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `service_role` –∫–ª—é—á ‚Äî —Ç–æ–ª—å–∫–æ `anon`
> - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Ç–∏–ø—ã —á–µ—Ä–µ–∑ `supabase gen types typescript`)
> 
> üìå –ü—Ä–∏–º–µ—Ä:
> ```ts
> const { data } = await supabase
>   .from('students')
>   .select('*')
>   .eq('teacher_id', user.id);
> ```
> 
> üö´ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–µ–ª–∞–π:
> ```ts
> .select('*') // –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏!
> .from('students') // –±–µ–∑ RLS ‚Äî —É—è–∑–≤–∏–º–æ—Å—Ç—å!
> ```
> 
> ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π React Query –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî –Ω–µ Zustand.